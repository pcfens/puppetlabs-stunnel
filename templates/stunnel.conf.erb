; This stunnel config is managed by Puppet.

cert = <%= @certificate %>
key = <%= @private_key %>
<%- if @ca_file != nil -%>
CAfile = <%= @ca_file %>
<%- end -%>
<%- if @ca_path != nil -%>
capath = <%= @ca_path %>
<%- end -%>
<%- if @crl_file != nil -%>
CRLfile = <%= @crl_file %>
<%- end -%>
sslVersion = <%= @ssl_version_real %>
verify = 2
<%- if @chroot != nil -%>
chroot = <%= @chroot %>
<%- end -%>
<%- if @user != nil -%>
setuid = <%= @user %>
<%- end -%>
<%- if @group != nil -%>
setgid = <%= @group %>
<%- end -%>
pid = <%= @pid_file %>

socket = l:TCP_NODELAY=1
socket = r:TCP_NODELAY=1

debug = <%= @debug_level %>
output = <%= @log_dest %>

client = <%= @client_on %>

<%- if @timeout_busy != nil -%>
TIMEOUTbusy = <%= @timeout_busy %>
<%- end -%>
<%- if @timeout_close != nil -%>
TIMEOUTclose = <%= @timeout_close %>
<%- end -%>
<%- if @timeout_connect != nil -%>
TIMEOUTconnect = <%= @timeout_connect %>
<%- end -%>
<%- if @timeout_idle != nil -%>
TIMEOUTidle = <%= @timeout_idle %>
<%- end -%>

[<%= @name -%>]
accept = <%= @accept %>
connect = <%= @connect %>
